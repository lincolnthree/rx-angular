{"version":3,"sources":["./apps/demos/src/app/shared/debug-helper/renderings/index.ts","./apps/demos/src/app/shared/debug-helper/visualizer/visualizer.module.ts","./apps/demos/src/app/shared/debug-helper/visualizer/visualizer/work-visualizer.component.ts","./apps/demos/src/app/shared/debug-helper/visualizer/visualizer/visualizer.component.ts","./apps/demos/src/app/shared/debug-helper/renderings/renderings.module.ts","./apps/demos/src/app/shared/debug-helper/renderings/renderings.component.ts"],"names":[],"mappings":"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","file":"default~basic-example-basic-example-module~basic-rx-let-basic-module~coalescing-coalescing-module~gl~ed34bbde.js","sourcesContent":["export {RenderingsModule} from './renderings.module';\nexport {RenderingsComponent} from './renderings.component';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { VisualizerComponent } from './visualizer/visualizer.component';\nimport { DirtyChecksModule } from '../dirty-checks';\nimport { RenderingsModule } from '../renderings';\nimport { PushModule } from '@rx-angular/template';\nimport { WorkVisualizerComponent } from './visualizer/work-visualizer.component';\n\n@NgModule({\n  declarations: [VisualizerComponent, WorkVisualizerComponent],\n  imports: [\n    CommonModule,\n    DirtyChecksModule,\n    RenderingsModule,\n    PushModule\n  ],\n  exports: [VisualizerComponent, WorkVisualizerComponent]\n})\nexport class VisualizerModule { }\n","import { Component, Input } from '@angular/core';\nimport { defer, isObservable, Observable, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, pluck, switchMap, tap } from 'rxjs/operators';\nimport { Hooks } from '../../hooks';\n\n@Component({\n  selector: 'rxa-work-visualizer',\n  template: `\n    <div class=\"d-flex w-100\">\n      <rxa-dirty-check style=\"margin-right: 1rem\"\n                       [radius]=\"radius\"></rxa-dirty-check>\n      <rxa-renders *ngIf=\"renderingsOn\" [value$]=\"valuesO$\" [radius]=\"radius\"></rxa-renders>\n    </div>\n    <div class=\"d-flex flex-wrap w-100\">\n      <div class=\"work-child\" *ngFor=\"let child of getChildren()\">\n        <div [ngClass]=\"{filled: child % 2 === 0}\" >&nbsp;</div>\n      </div>\n    </div>\n    <ng-content select=\"[visualizerHeader]\">\n    </ng-content>\n    <div class=\"w-100 h-100 d-flex align-items-center justify-content-center flex-grow-1\">\n      <ng-content>\n      </ng-content>\n    </div>\n  `,\n  host: {\n    '[style.width.px]': 'size',\n    '[class]': 'classNames'\n  },\n  styles: [`\n    .work-child {\n      position: relative;\n      width: 4px;\n      height: 4px;\n      margin: 0 2px 2px 0;\n      padding: 0px;\n      outline: 1px solid green;\n      background-color: transparent;\n    }\n\n    .work-child div {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n    }\n    .work-child div.filled {\n      background-color: orange;\n    }\n  `]\n})\nexport class WorkVisualizerComponent extends Hooks {\n  @Input()\n  size;\n\n  @Input() work = 10;\n\n  classNames = 'd-flex flex-column w-100 m-1 p-1 dh-l-view';\n\n  @Input()\n  set viewType(type: string) {\n    if (type == null) {\n      type = 'l-view';\n    }\n    this.classNames = [...this.classNames.split(' ').filter(c => c.indexOf('dh-') === -1), 'dh-' + type]\n      .join(' ');\n  }\n\n  @Input()\n  radius = 20;\n\n  @Input()\n  renderingsOn = false;\n\n  changeO$ = new ReplaySubject<Observable<any>>(1);\n\n  @Input()\n  set value$(v$: Observable<any> | any) {\n    if (isObservable(v$)) {\n      this.changeO$.next(v$);\n    } else {\n      if (v$ != null) {\n        this.renderingsOn = true;\n        this.changeO$.next(of(v$));\n      } else {\n        this.renderingsOn = false;\n      }\n    }\n  };\n\n  @Input() key;\n\n  valuesO$ = defer(() => this.afterViewInit$.pipe(\n    switchMap(() => this.changeO$.pipe(\n      distinctUntilChanged(),\n      switchMap(o$ => !!this.key ? o$.pipe(pluck(this.key)) : o$),\n      distinctUntilChanged(),\n      tap(v => console.log('value', v))\n      )\n    ))\n  );\n\n  constructor() {\n    super();\n  }\n\n  getChildren(): number[] {\n    const items = [];\n    for (let i = 0; i <= this.work * 10; i++) {\n      items.push(Math.ceil(Math.random() * 100));\n    }\n    return items;\n  }\n\n}\n","import { Component, Input } from '@angular/core';\nimport { defer, isObservable, Observable, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, pluck, switchMap, tap } from 'rxjs/operators';\nimport { Hooks } from '../../hooks';\n\n@Component({\n  selector: 'rxa-visualizer',\n  template: `\n    <div class=\"d-flex w-100\">\n      <rxa-dirty-check style=\"margin-right: 1rem\" [radius]=\"radius\"></rxa-dirty-check>\n      <rxa-renders *ngIf=\"renderingsOn\" [value$]=\"valuesO$\" [radius]=\"radius\"></rxa-renders>\n      <span *ngIf=\"cDS\">{{cDS}}</span>\n    </div>\n    <ng-content select=\"[visualizerHeader]\"></ng-content>\n    <div class=\"w-100 h-100 d-flex align-items-center justify-content-center flex-grow-1\">\n      <ng-content></ng-content>\n    </div>\n  `,\n  host: {\n    '[style.width.px]': 'size',\n    '[class]': 'classNames'\n  }\n})\nexport class VisualizerComponent extends Hooks {\n  @Input()\n  size;\n\n  classNames = 'd-flex flex-column w-100 m-1 p-1 dh-l-view';\n\n  @Input()\n  set viewType(type: string) {\n    if (type == null) {\n      type = 'l-view';\n    }\n    this.classNames = [...this.classNames.split(' ').filter(c => c.indexOf('dh-') === -1), 'dh-' + type]\n      .join(' ');\n  }\n\n  @Input()\n  cDS: string;\n\n  @Input()\n  radius = 20;\n\n  @Input()\n  renderingsOn = false;\n\n  changeO$ = new ReplaySubject<Observable<any>>(1);\n\n  @Input()\n  set value$(v$: Observable<any> | any) {\n    if (isObservable(v$)) {\n      this.changeO$.next(v$);\n    } else {\n      if (v$ != null) {\n        this.renderingsOn = true;\n        this.changeO$.next(of(v$));\n      } else {\n        this.renderingsOn = false;\n      }\n    }\n  };\n\n  @Input() key;\n\n  valuesO$ = defer(() => this.afterViewInit$.pipe(\n    switchMap(() => this.changeO$.pipe(\n      distinctUntilChanged(),\n      switchMap(o$ => !!this.key ? o$.pipe(pluck(this.key)) : o$),\n      distinctUntilChanged(),\n      tap(v => console.log('value', v))\n      )\n    ))\n  );\n\n  constructor() {\n    super();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RenderingsComponent } from './renderings.component';\nimport { CommonModule } from '@angular/common';\nimport { MatRippleModule } from '@angular/material/core';\nimport { PushModule } from '@rx-angular/template';\n\nconst DECLARATIONS = [RenderingsComponent];\n\n@NgModule({\n  declarations: [...DECLARATIONS],\n  imports: [CommonModule, MatRippleModule, PushModule],\n  exports: [...DECLARATIONS],\n})\nexport class RenderingsModule {}\n","import { ChangeDetectionStrategy, Component, Input, ViewChild } from '@angular/core';\nimport { MatRipple } from '@angular/material/core';\nimport { isObservable, Observable, of, ReplaySubject, Subscription } from 'rxjs';\nimport { distinctUntilChanged, scan, switchAll, switchMap, tap } from 'rxjs/operators';\nimport { Hooks } from '../hooks';\nimport { RxEffects } from '../../rx-effects.service';\nimport { select } from '@rx-angular/state';\nimport { AppConfigService } from '../../../app-config.service';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'rxa-renders',\n  template: `\n    <div class=\"indicator-ripple\" [ngStyle]=\"{minWidth: radius+'px',minHeight: radius+'px'}\" matRipple\n         [matRippleColor]=\"color\" [matRippleRadius]=\"radius\">\n      {{ numRenders$ | push | json }}\n    </div>\n  `,\n  styles: [`\n    :host .indicator-ripple {\n      border: 1px solid #ff00005f;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [RxEffects]\n})\nexport class RenderingsComponent extends Hooks {\n  sub: Subscription;\n\n  @ViewChild(MatRipple) ripple: MatRipple;\n  changeO$ = new ReplaySubject<Observable<any>>(1);\n  numRenders$ = this.afterViewInit$.pipe(\n    switchMap(() => this.changeO$.pipe(\n      switchAll(),\n      distinctUntilChanged(),\n      scan(a => ++a, 0),\n      tap(() => this.rippleOn && this.ripple.launch({ centered: true }))\n    )));\n\n  @Input()\n  rippleOn = true;\n\n  @Input()\n  radius = 20;\n\n  @Input()\n  color = 'rgba(255,0,0,0.24)';\n\n  @Input()\n  set value$(v$: Observable<any> | any) {\n    if (isObservable(v$)) {\n      this.changeO$.next(v$);\n    } else {\n      if (v$ != null) {\n        this.changeO$.next(of(v$));\n      }\n    }\n  };\n\n  constructor(\n    private configService: AppConfigService,\n    private rxEf: RxEffects\n  ) {\n    super();\n    this.rxEf.hold(this.configService.$.pipe(select('rippleOn')), (r) => {\n      this.rippleOn = r;\n    });\n\n    this.rxEf.hold(this.afterViewInit$, () => {\n      this.launchRipple();\n    });\n  }\n\n  launchRipple(options: object = { centered: true }) {\n    if (this.rippleOn) {\n      this.ripple.launch(options);\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///"}