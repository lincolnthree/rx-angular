{"version":3,"sources":["./apps/demos/src/app/features/experiments/decorators/stateful/stateful.component.ts","./apps/demos/src/app/features/experiments/decorators/stateful/stateful.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACnC;AAC2C;;;;;;;;IAmBxH,oEAKM;;;IAHJ,sJAAmC;;AAuBtC,MAAM,iBAAiB;IAO5B,YAAoB,KAAwB;QAAxB,UAAK,GAAL,KAAK,CAAmB;QAC1C,+FAAc,CAAC,IAAI,EAAE,CAAC,UAAU,CAAC,EAAE;YACjC,KAAK;SACN,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,CAAS,EAAE,CAAgC;QACtD,OAAO,CAAC,CAAC,EAAE,CAAC;IACd,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;QACnB,sBAAsB;IACxB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACtC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,iCAC9B,OAAO,KACV,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAChC,CAAC,CAAC;QACN,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,CAAC;QACL,OAAO,GAAG,GAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAClD,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;IAChD,CAAC;;kFArCU,iBAAiB;iGAAjB,iBAAiB;kEAKjB,kIAAsB;;;;;QA1C/B,iFAAgB;QACd,yEAAkC;QAChC,yEAAuB;QACrB,qEAAI;QAAA,mFAAwB;QAAA,4DAAK;QACjC,sFAIsB;QACxB,4DAAM;QACR,4DAAM;QACN,yEAAoC;QAClC,6GAKM;QACR,4DAAM;QACR,4DAAiB;;QAbT,0DAAgB;QAAhB,yEAAgB;QASJ,0DAAa;QAAb,iFAAa;;;;;;;;;;;;;;ACxBrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAEQ;AACyC;AACoB;AACP;AACb;AACvC;;;AAEzD,MAAM,MAAM,GAAW,CAAC;QACtB,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qEAAiB;KAC7B,CAAC;AAaK,MAAM,cAAc;;4EAAd,cAAc;6FAAd,cAAc;iGAThB;YACP,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,sHAAmB;YACnB,kGAAW;YACX,4DAAY;YACZ,+GAAoB;YACpB,kGAAgB;SACjB;mIAEU,cAAc,mBAVV,qEAAiB,2EAG9B,sHAAmB;QACnB,kGAAW;QACX,4DAAY;QACZ,+GAAoB;QACpB,kGAAgB","file":"stateful-stateful-module.js","sourcesContent":["import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\nimport { renderOnChange } from '../../../../rx-angular-pocs/cdk/decorators/stateful';\nimport { ArrayProviderComponent } from '../../../../shared/debug-helper/value-provider/array-provider/array-provider.component';\n\ninterface Sibling { id: number; color: string }\n\n@Component({\n  selector: 'rxa-stateful',\n  template: `\n    <rxa-visualizer>\n      <div visualizerHeader class=\"row\">\n        <div class=\"col-sm-12\">\n          <h2>RxFor with static values</h2>\n          <rxa-array-provider\n            [unpatched]=\"\"\n            [buttons]=\"true\"\n            #arrayP=\"rxaArrayProvider\"\n          ></rxa-array-provider>\n        </div>\n      </div>\n      <div class=\"d-flex flex-wrap w-100\">\n        <div\n          class=\"sibling\"\n          [ngStyle]=\"{ background: a.color }\"\n          *rxFor=\"let a of siblings; let index = index; trackBy: trackSibling\"\n        >\n        </div>\n      </div>\n    </rxa-visualizer>\n  `,\n  styles: [\n    `\n      .sibling {\n        position: relative;\n        width: 8px;\n        height: 8px;\n        margin: 0 2px 2px 0;\n        padding: 0px;\n\n        outline: 1px solid mistyrose;\n        background-color: transparent;\n      }\n    `,\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class StatefulComponent implements OnInit, AfterViewInit {\n\n  test: string;\n  siblings: Sibling[];\n\n  @ViewChild(ArrayProviderComponent) dataService: ArrayProviderComponent;\n\n  constructor(private cdRef: ChangeDetectorRef) {\n    renderOnChange(this, ['siblings'], {\n      cdRef\n    });\n  }\n\n  trackSibling(i: number, s: { id: number; color: string }) {\n    return s.id;\n  }\n\n  ngOnInit(): void {\n    this.test = 'test';\n    // this.siblings = [];\n  }\n\n  ngAfterViewInit() {\n    this.dataService.array$.subscribe(arr => {\n      this.siblings = arr.map(sibling => ({\n        ...sibling,\n        color: this.color(sibling.value)\n      }));\n    })\n  }\n\n  color(a) {\n    return '#' +Math.floor(a*16777215).toString(16);\n  }\n\n  update(): void {\n    this.test = (Math.random() * 1000).toString();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { RxForModule } from '../../../../rx-angular-pocs/template/directives/for/rx-for.module';\nimport { UnpatchEventsModule } from '../../../../rx-angular-pocs/template/directives/unpatch/unpatch-events.module';\nimport { ValueProvidersModule } from '../../../../shared/debug-helper/value-provider/value-providers.module';\nimport { VisualizerModule } from '../../../../shared/debug-helper/visualizer/visualizer.module';\nimport { StatefulComponent } from './stateful.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: StatefulComponent\n}]\n\n@NgModule({\n  declarations: [StatefulComponent],\n  imports: [\n    RouterModule.forChild(routes),\n    UnpatchEventsModule,\n    RxForModule,\n    CommonModule,\n    ValueProvidersModule,\n    VisualizerModule,\n  ],\n})\nexport class StatefulModule {}\n"],"sourceRoot":"webpack:///"}