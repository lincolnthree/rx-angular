{"version":3,"sources":["./apps/demos/src/app/shared/template-structures/sibling/sibling.module.ts","./apps/demos/src/app/shared/image-array/controls/color-prio.component.ts","./apps/demos/src/app/shared/image-array/image-array.module.ts","./apps/demos/src/app/shared/template-structures/sibling/sibling-custom.component.ts","./apps/demos/src/app/shared/template-structures/sibling/sibling-pixel-img.component.ts","./apps/demos/src/app/shared/image-array/pixel-image.ts","./apps/demos/src/app/shared/utils/utils.module.ts","./apps/demos/src/app/shared/template-structures/sibling/sibling-progressive.component.ts","./apps/demos/src/app/shared/debug-helper/work/work.component.ts","./apps/demos/src/app/shared/utils/to-array.pipe.ts","./apps/demos/src/app/shared/template-structures/sibling/sibling-static.component.ts","./apps/demos/src/app/shared/debug-helper/work/work.module.ts","./apps/demos/src/app/shared/template-structures/sibling/sibling-async.component.ts","./apps/demos/src/app/shared/template-structures/sibling/sibling-strategy.component.ts","./apps/demos/src/app/shared/image-array/controls/image-array.component.ts","./apps/demos/src/app/shared/template-structures/sibling/utils.ts","./apps/demos/src/app/shared/template-structures/sibling/sibling-push.component.ts"],"names":[],"mappings":"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","file":"default~comparison-comparison-module~pixel-priority-pixel-priority-module~sibling-component-structur~48c58d88.js","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { PushModule, UnpatchEventsModule } from '@rx-angular/template';\n\nimport { DirtyChecksModule } from '../../debug-helper/dirty-checks';\nimport { RenderingsModule } from '../../debug-helper/renderings';\nimport { StrategySelectModule } from '../../debug-helper/strategy-select';\nimport { ValueProvidersModule } from '../../debug-helper/value-provider';\nimport { VisualizerModule } from '../../debug-helper/visualizer';\nimport { WorkModule } from '../../debug-helper/work/work.module';\nimport { SiblingAsyncComponent } from './sibling-async.component';\nimport { SiblingCustomComponent } from './sibling-custom.component';\nimport { SiblingProgressiveComponent } from './sibling-progressive.component';\nimport { SiblingPushComponent } from './sibling-push.component';\nimport { SiblingStaticComponent } from './sibling-static.component';\n\nimport { SiblingStrategyComponent } from './sibling-strategy.component';\nimport { ImageArrayModule } from '../../image-array/image-array.module';\nimport { SiblingPixelImgComponent } from './sibling-pixel-img.component';\nimport { RxContextModule, RxForModule, RxLetModule } from '../../../rx-angular-pocs';\n\nconst DECLARATIONS = [\n  SiblingStaticComponent,\n  SiblingAsyncComponent,\n  SiblingPushComponent,\n  SiblingProgressiveComponent,\n  SiblingCustomComponent,\n  SiblingStrategyComponent,\n  SiblingPixelImgComponent\n];\n\n@NgModule({\n  declarations: DECLARATIONS,\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    DirtyChecksModule,\n    UnpatchEventsModule,\n    PushModule,\n    VisualizerModule,\n    ValueProvidersModule,\n    RenderingsModule,\n    RxLetModule,\n    WorkModule,\n    StrategySelectModule,\n    ImageArrayModule,\n    RxForModule,\n    RxContextModule,\n    MatProgressSpinnerModule,\n  ],\n  exports: DECLARATIONS,\n})\nexport class SiblingModule {}\n","import { Component, Input } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { RxState } from '@rx-angular/state';\n\n@Component({\n  selector: 'rxa-color-prio',\n  template: `\n    <mat-expansion-panel *rxLet=\"colorArr$; let colors\">\n      <mat-expansion-panel-header>\n        <p class=\"mr-1\">Total: {{colors.length}}</p>\n        <div class=\"d-flex align-items-center\">\n          <div class=\"color m-1\" style=\"\"\n               [style.background]=\"i[0]\"\n               [title]=\"i[0]\"\n               *ngFor=\"let i of colors\">\n            &nbsp;\n          </div>\n        </div>\n      </mat-expansion-panel-header>\n      <div class=\"w-100 d-flex flex-wrap\">\n        <div class=\"d-flex align-items-center w-25 mb-1\" *ngFor=\"let i of colors\">\n          <div class=\"mr-1 color\" style=\"width: 15px; height: 15px;\"\n               [style.background]=\"i[0]\">\n            &nbsp;\n          </div>\n          <span class=\"priority\">{{ i[1] }}</span>\n        </div>\n      </div>\n    </mat-expansion-panel>\n  `,\n  styles: [`\n    .color {\n      width: 15px;\n      max-height: 15px;\n      font-size: 13px;\n      text-align: center;\n      box-shadow: 1px 1px 1px #0006;\n    }\n  `]\n})\nexport class ColorPrioComponent extends RxState<{\n  colors: [string, string][]\n}> {\n  colorArr$ = this.select('colors');\n\n  @Input()\n  set colors$(color$: Observable<Map<string, any>>) {\n    this.connect('colors', color$.pipe(map(c => Array.from(c.entries()))));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatRippleModule } from '@angular/material/core';\nimport { ImageArrayComponent } from './controls/image-array.component';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { PushModule } from '@rx-angular/template';\nimport { ColorPrioComponent } from './controls/color-prio.component';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { RxLetModule } from '../../rx-angular-pocs';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\n\n\n@NgModule({\n  declarations: [ImageArrayComponent, ColorPrioComponent],\n  exports: [\n    ImageArrayComponent, ColorPrioComponent\n  ],\n  imports: [\n    CommonModule,\n    MatInputModule,\n    MatProgressBarModule,\n    PushModule,\n    MatExpansionModule,\n    RxLetModule,\n    MatButtonModule,\n    MatCardModule,\n    MatRippleModule\n  ]\n})\nexport class ImageArrayModule {\n}\n","import { ChangeDetectionStrategy, Component, Inject, Input } from '@angular/core';\nimport { RxStrategyProvider } from '@rx-angular/cdk';\nimport { BehaviorSubject } from 'rxjs';\nimport { toBooleanArray, toFloatArray, toIntArray } from './utils';\nimport { map } from 'rxjs/operators';\n\nconst chunk = (arr, n) => arr.length ? [arr.slice(0, n), ...chunk(arr.slice(n), n)] : [];\n\n@Component({\n  selector: 'rxa-sibling-custom',\n  template: `\n    <rxa-visualizer>\n      <div visualizerHeader>\n        <h3>{{siblings.length}} Siblings Custom Strategy</h3>\n        <rxa-strategy-select (strategyChange)=\"strategyChange$.next($event)\"></rxa-strategy-select>\n        <button mat-button [unpatch] (click)=\"filled$.next(num)\">DoChange</button>\n      </div>\n      <div class=\"w-100 siblings\">\n        <div class=\"sibling\" *rxFor=\"let sibling of siblings$; trackBy:trackBy\">\n          <rxa-work [load]=\"sibling\"></rxa-work>\n        </div>\n      </div>\n    </rxa-visualizer>\n  `,\n  host: {\n    class: 'd-flex w-100'\n  },\n  styleUrls: ['./sibling.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SiblingCustomComponent {\n\n  num = 0;\n  siblings = [];\n  filled$ = new BehaviorSubject<number>(this.num);\n  strategyChange$ = new BehaviorSubject<string>(this.strategyProvider.primaryStrategy);\n  siblings$ = this.filled$.pipe(\n    map(num =>  toIntArray(num))\n  )\n\n  @Input()\n  set count(num: number) {\n    this.num = num;\n    this.filled$.next(num);\n  };\n\n  @Input()\n  value: any;\n\n  @Input()\n  set strategy(strategy: string) {\n    this.strategyChange$.next(strategy)\n  };\n\n  trackBy = i => i;\n\n  constructor(\n    private strategyProvider: RxStrategyProvider\n  ) {\n\n  }\n\n}\n\n","import { ChangeDetectionStrategy, Component, Inject, Input } from '@angular/core';\nimport { RxStrategyProvider } from '@rx-angular/cdk';\nimport { Observable } from 'rxjs';\nimport { RxState, selectSlice } from '@rx-angular/state';\nimport { map } from 'rxjs/operators';\nimport { toInt } from '../../debug-helper/value-provider';\nimport { ImgInfo } from '../../image-array';\nimport { computeColorPrio } from '../../image-array/pixel-image';\n\nconst chunk = (arr, n) => arr.length ? [arr.slice(0, n), ...chunk(arr.slice(n), n)] : [];\n\n@Component({\n  selector: 'rxa-sibling-pixel-img',\n  template: `\n    <div class=\"pixel-map\" [style.width.px]=\"width\" *rxLet=\"width$, let width; strategy:'reactNormal'\">\n      <ng-container *ngFor=\"let sibling of pixelArray$ | push; trackBy:trackBy\">\n        <div class=\"pixel\"\n             [style.width.px]=\"pixelSize$ | push\"\n             [style.height.px]=\"pixelSize$ | push\">\n          <div *rxLet=\"color$; let c; strategy: get('colorPriority').get(sibling)\"\n               [ngStyle]=\"{background: c ? c : sibling}\">\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  `,\n  styles: [`\n    .pixel-map {\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    .pixel {\n      position: relative;\n      min-width: 3px;\n      min-height: 3px;\n      padding: 0px;\n      background-color: transparent;\n    }\n\n    .pixel div {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n    }\n\n    .pixel div.filled {\n      background-color: orange;\n    }\n\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SiblingPixelImgComponent extends RxState<{\n  pixelArray: string[],\n  pixelSize: number,\n  width: number,\n  colorPriority: Map<string, string>,\n  filled: boolean\n  fillColor: string\n} & ImgInfo> {\n\n  width$ = this.select(map(s => s.width * s.pixelSize));\n  pixelArray$ = this.select('pixelArray');\n  pixelSize$ = this.select('pixelSize');\n  fillColor$ = this.select('fillColor');\n  color$ = this.select(selectSlice(['filled', 'fillColor']),\n    map(({ filled, fillColor }) => filled ? fillColor : '')\n  );\n\n  @Input()\n  set imgInfo(imgInfo$: Observable<ImgInfo>) {\n    this.connect(imgInfo$.pipe(map(i => ({\n      ...i,\n      colorPriority: computeColorPrio(i.colors)\n    }))));\n  };\n\n  @Input()\n  set pixelSize(pixelSize$: Observable<number | string>) {\n    // tslint:disable-next-line:no-bitwise\n    this.connect('pixelSize', pixelSize$.pipe(map(v => +v)));\n  }\n\n  @Input()\n  set filled(filled$: Observable<boolean>) {\n    this.connect('filled', filled$);\n  }\n\n  @Input()\n  set fillColor(fillColor$: Observable<string>) {\n    this.connect('fillColor', fillColor$);\n  }\n\n  trackBy = i => i;\n\n  constructor(\n    private strategyProvider: RxStrategyProvider\n  ) {\n    super();\n    this.set({\n      filled: false,\n      pixelSize: 5,\n      width: 5\n    });\n  }\n\n  getStrategy(color: any) {\n    return this.get('colorPriority').get(color);\n    const [r, g, b, a] = color.replaceAll(')', '').replaceAll('rgba(', '').split(',');\n    const transparency = a === '0';\n    const black = [\n      '000',\n      '323232',\n      '2061530',\n      '137137137',\n      '101101101',\n      '858585',\n      '206206206'\n    ].includes([r, g, b].join(''));\n    const rand = Object.keys(this.strategyProvider.strategies[this.strategyProvider.primaryStrategy])[toInt(undefined, 0, this.strategyProvider.strategyNames.length)];\n\n    return transparency ? 'reactIdle' : black ? 'reactImmediate' : 'reactNormal';\n  }\n\n}\n\n","import { fromEvent, Observable, throwError } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { CMYK, ImgInfo, RGBA } from './model';\nimport { getMemoizedFn } from '../../rx-angular-pocs';\n\n// http://pixelartmaker.com/art/556d215ebf25e7f\n\nexport const rgbaToStyle = getMemoizedFn(\n  (rgba: RGBA) => ('rgba(' + rgba.join(',') + ')')\n) as (RGBA) => string;\nexport const styleToRgba = getMemoizedFn(\n  (rgbaStyle: string) => rgbaStyle.slice(5, -1).split(',').map(s => +s)\n) as (string) => RGBA;\n\nexport function rgbToHsl(r: number, g: number, b: number): number[] {\n  r /= 255, g /= 255, b /= 255;\n  const max = Math.max(r, g, b), min = Math.min(r, g, b);\n  // tslint:disable-next-line:prefer-const\n  let h, s, l = (max + min) / 2;\n\n  if (max === min) {\n    h = s = 0; // achromatic\n  } else {\n    const d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n\n  return [h, s, l];\n}\n\nexport function rgbaToCmyk(rgba: RGBA): number[] {\n  const cmyk: CMYK = [0, 0, 0, 0];\n\n  const r = rgba[0] / 255;\n  const g = rgba[1] / 255;\n  const b = rgba[2] / 255;\n\n  cmyk[0] = (1 - r - cmyk[3]) / (1 - cmyk[3]);\n  cmyk[1] = (1 - g - cmyk[3]) / (1 - cmyk[3]);\n  cmyk[2] = (1 - b - cmyk[3]) / (1 - cmyk[3]);\n  cmyk[3] = Math.min(1 - r, 1 - g, 1 - b);\n\n  cmyk[0] = Math.round(cmyk[0] * 100);\n  cmyk[1] = Math.round(cmyk[1] * 100);\n  cmyk[2] = Math.round(cmyk[2] * 100);\n  cmyk[3] = Math.round(cmyk[3] * 100);\n\n  return cmyk;\n}\n\nexport function getPixelLuminance(pixel: RGBA): number {\n  return (pixel[0] * 0.2126) + (pixel[1] * 0.7152) + (pixel[2] * 0.0722);\n}\n\nexport function pixelToString(pixel: RGBA): string {\n  return 'r: ' + pixel[0] + ', g: ' + pixel[1] + ', b: ' + pixel[2];\n}\n\nexport function numberToPaddedHexString(number: number | string): string {\n  const hexString: string = (+number).toString(16);\n  if (hexString.length === 1) {\n    return '0' + hexString;\n  }\n  return hexString;\n}\n\nexport function pixelToHexString(pixel: RGBA): string {\n  const hexString = '#' +\n    numberToPaddedHexString(pixel[0]) +\n    numberToPaddedHexString(pixel[1]) +\n    numberToPaddedHexString(pixel[2]);\n  return hexString;\n}\n\n\nexport function computeColorPrio(colorCount: Map<string, number>): Map<string, string> {\n  const prioMap = new Map<string, string>();\n  let lowAndHigh = 0;\n  const numPrios = 3;\n\n  return Array.from(colorCount.entries())\n    .map(s => ([...s, rgbaToCmyk(styleToRgba(s[0]))] as [string, number, CMYK]))\n    .sort((a, b) => {\n      const _a = a[2][3];\n      const _b = b[2][3];\n      return _a < _b ? 1 : _a > _b ? -1 : 0;\n    })\n    .reduce((acc, entry, idx) => {\n      const style = entry[0];\n      const k = entry[2][3];\n      const remaining = colorCount.size - lowAndHigh;\n\n\n      /*\n        noPriority = 0;\n        immediate = 1;\n        userBlocking = 2;\n        normal = 3;\n        low = 4;\n        background = 5;\n      */\n      // transparent\n      if (style.slice(style.length - 2, -1) === '0') {\n        acc.set(style, 'background');\n        lowAndHigh += 1;\n      } else {\n        // Dark color prio\n        if (k > 76) {\n          acc.set(style, 'immediate');\n          lowAndHigh += 1;\n        }\n        // if there is space add most used colors until a third of all colors are prioritized\n        else if (idx < remaining / numPrios * 1) {\n          acc.set(style, 'userBlocking');\n        } else if (idx < remaining / numPrios * 2) {\n          acc.set(style, 'normal');\n        } else {\n          acc.set(style, 'low');\n        }\n      }\n      return acc;\n    }, prioMap);\n}\n\n// @TODO decide on transparency handling\nexport function computeAverageColor(pixels: RGBA[], ignoreTransparentColors = true): RGBA {\n  const totalRed = pixels\n    .map(p => p[0])\n    .reduce((s, n) => s + n, 0);\n  const totalGreen = pixels\n    .map(p => p[1])\n    .reduce((s, n) => s + n, 0);\n  const totalBlue = pixels\n    .map(p => p[2])\n    .reduce((s, n) => s + n, 0);\n  return [\n    (totalRed / pixels.length),\n    (totalGreen / pixels.length),\n    (totalBlue / pixels.length),\n    // @TODO decide on transparency handling\n    255\n  ] as RGBA;\n}\n\nexport function imageDataToImgInfo(imgData: ImageData): ImgInfo {\n  const data = imgData.data;\n  const pixelArray = [];\n  const rgbaArray = [];\n  const colors = new Map<string, number>();\n  for (let x = 0; x < imgData.data.length; x += 4) {\n    const rgba = [\n      data[x],\n      data[x + 1],\n      data[x + 2],\n      data[x + 3]\n    ];\n    rgbaArray.push(rgba);\n    const color = rgbaToStyle(rgba);\n    const colorCount = colors.get(color) || 0;\n    colors.set(color, colorCount + 1);\n    pixelArray.push(color);\n  }\n\n  return { pixelArray, colors, width: imgData.width, colorPrios: computeColorPrio(colors) };\n}\n\nexport function imageFromFileReader() {\n  return (o$: Observable<FileReader>): Observable<HTMLImageElement> => o$.pipe(\n    switchMap((fileReader) => {\n      const img: HTMLImageElement = document.createElement('img');\n      const fileLoad$ = fromEvent(img, 'load').pipe(map(e => e.target as HTMLImageElement));\n      img.src = fileReader.result as string;\n      return fileLoad$;\n    })\n  );\n}\n\nexport function fileReaderFromBlob() {\n  return (o$: Observable<Blob>): Observable<FileReader> => o$.pipe(\n    switchMap((files) => {\n        if (files) {\n          const fr = new FileReader();\n          const o = fromEvent(fr, 'load').pipe(map(e => e.target as FileReader));\n          fr.readAsDataURL(files);\n          return o;\n        } else {\n          return throwError('No file given');\n        }\n      }\n    ));\n\n}\n\nexport function getRatio(img: HTMLImageElement, maxWidth: number = 50, maxHeight: number = 50): [number, number] {\n  let ratio = 0;\n  const width = img.width;\n  const height = img.height;\n  const out = [] as unknown as [number, number];\n\n  if (width > maxWidth && width > height) {\n    ratio = width / height;\n    out.push(maxWidth);\n    out.push(maxWidth / ratio);\n  } else if (height > maxHeight && height > width) {\n    ratio = height / width;\n    out.push(maxHeight / ratio);\n    out.push(maxHeight);\n  } else {\n    out.push(maxWidth);\n    out.push(maxHeight);\n  }\n\n  return out;\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ToArrayPipe } from './to-array.pipe';\n\n\n@NgModule({\n  declarations: [ToArrayPipe],\n  imports: [\n    CommonModule\n  ],\n  exports: [ToArrayPipe]\n})\nexport class UtilsModule { }\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { concat, ReplaySubject, timer } from 'rxjs';\nimport { concatMap, mapTo, scan, switchMap } from 'rxjs/operators';\nimport { insert } from '@rx-angular/state';\nimport { toBooleanArray } from './utils';\nimport { measure$ } from '../../utils/measure';\n\nconst chunk = (arr, n) => arr.length ? [arr.slice(0, n), ...chunk(arr.slice(n), n)] : [];\n\n@Component({\n  selector: 'rxa-sibling-progressive',\n  template: `\n    <rxa-visualizer>\n      <p visualizerHeader>{{siblings.length}} Siblings Progressive</p>\n      <div class=\"w-100 siblings\">\n        <span class=\"sibling\" *ngFor=\"let sibling of siblings$ | push; trackBy:trackBy\">\n          <div [ngClass]=\"{filled: filled}\">&nbsp;</div>\n        </span>\n      </div>\n    </rxa-visualizer>\n  `,\n  host: {\n    class: 'd-flex w-100'\n  },\n  styleUrls: ['./sibling.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SiblingProgressiveComponent {\n\n  siblings = [];\n  filled = false;\n  siblingsSubject = new ReplaySubject<any[]>(1);\n  siblings$ = this.siblingsSubject.pipe(\n    switchMap(a => concat([],chunk(a, a.length / 10)).pipe(\n      concatMap(v => timer(0).pipe(mapTo(v))),\n      scan(insert),\n      // as rendering is sync it will be included in the measurement (init parts missing)\n      measure$('progressive rendering '+a.length + ': ')\n    ))\n  );\n\n  @Input()\n  set count(num: number) {\n    this.siblings = toBooleanArray(num);\n    this.siblingsSubject.next(this.siblings);\n    this.filled = !this.filled;\n  };\n\n  @Input()\n  value: any;\n\n  trackBy = i => i;\n\n}\n\n","// tslint:disable:no-unused-expression\n\nimport { Component, ElementRef, Input, Renderer2 } from '@angular/core';\nimport { isObservable, Observable, of, Subject } from 'rxjs';\nimport { map, scan, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport { RxState, selectSlice } from '@rx-angular/state';\nimport { Hooks } from '../hooks';\n\n\ntype workType = 'scripting' | 'layouting';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'rxa-work',\n  template: `\n    <div class=\"work\" [ngClass]=\"s.type\" *rxLet=\"state$, let s\">\n      {{s.load}}\n      <div class=\"w-100 layouting-work\">\n      </div>\n      {{dirtyCheck()}}\n    </div>\n  `,\n  styleUrls: ['./work.component.scss'],\n  providers: [RxState]\n})\nexport class WorkComponent extends Hooks {\n\n  dirtyCheckSubject = new Subject<number>();\n  dirtyCheck$ = this.dirtyCheckSubject.pipe(scan(a => ++a, 0));\n  state$ = this.state.select();\n  iterations$ = this.state.select(\n    selectSlice(['base', 'load']),\n    map(({ base, load }) => base * load)\n  );\n  displayElem;\n\n  @Input()\n  set load(o: Observable<number> | number) {\n    this.state.connect('load', isObservable(o) ? o : of(o));\n  }\n\n  @Input()\n  set type(o: Observable<workType> | workType) {\n    this.state.connect('type', isObservable(o) ? o : of(o));\n  }\n\n\n  @Input()\n  set base(o: Observable<number> | number) {\n    this.state.connect('base', isObservable(o) ? o : of(o));\n  }\n\n  constructor(public state: RxState<{ load: number, base: number, type: workType }>,\n              private elementRef: ElementRef, private renderer: Renderer2) {\n    super();\n    this.state.set({\n      base: 100,\n      load: 1,\n      type: 'scripting'\n    });\n\n    this.state.hold(this.state.select('type').pipe(\n      switchMap(t => {\n        const ef$ = this.dirtyCheck$.pipe(toLatestWith([this.iterations$]));\n        switch (t) {\n          case 'layouting':\n            return ef$.pipe(tap(iterations => this.layoutingWork(iterations)));\n          case 'scripting':\n            return ef$.pipe(tap(iterations => this.scriptingWork(iterations)));\n          default:\n            return ef$.pipe(tap(iterations => this.scriptingWork(iterations)));\n        }\n      })\n    ));\n\n    this.afterViewInit$.subscribe(() => {\n      this.displayElem = this.elementRef.nativeElement.children[1];\n    });\n  }\n\n  dirtyCheck() {\n    this.dirtyCheckSubject.next();\n  }\n\n  scriptingWork(iterations: number) {\n    let n = 0;\n    while (n < iterations * 10000) {\n      n = n + 1;\n    }\n  }\n\n  layoutingWork(iterations: number) {\n    // https://gist.github.com/paulirish/5d52fb081b3570c81e3a\n    if (this.displayElem) {\n      this.displayElem.offsetLeft;\n      this.displayElem.style.background = `rgb(${(30) % 255}, ${(15) % 255}, ${(30) % 255})`;\n      for (let x = 0; x < iterations; x++) {\n\n        let c = this.displayElem.children[x];\n        if (!c) {\n          c = document.createElement('DIV');\n          this.displayElem.appendChild(c);\n        }\n        c.className = 'box';\n        c.style.height = '1px';\n        c.style.width = 100 / iterations + '%';\n        c.style.float = 'left';\n        c.style.background = `rgb(${(x + 30) * x % 255}, ${(x + 60) * x % 255}, ${(x + 10) * x % 255})`;\n        this.displayElem.offsetLeft;\n      }\n    }\n  }\n}\n\nfunction toColor(n) {\n  return;\n}\n\nfunction toLatestWith<I, O>(target$: Observable<O>[]): (o: Observable<I>) => Observable<O> {\n  return o$ => o$.pipe(\n    withLatestFrom(...target$),\n    map(([_, iterations]) => iterations)\n  );\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'toArray'\n})\nexport class ToArrayPipe implements PipeTransform {\n  transform(value: number | string): any[] {\n    if (typeof value === 'number') {\n      return new Array(value).fill(0).map((_, idx) => idx);\n    }\n    return value != null ? value.toString().split('') : [];\n  }\n}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { toBooleanArray } from './utils';\n\n@Component({\n  selector: 'rxa-sibling-static',\n  template: `\n    <rxa-visualizer>\n      <p visualizerHeader>{{siblings.length}} Siblings Static</p>\n      <div class=\"w-100 siblings\">\n        <span class=\"sibling\" [ngClass]=\"{filled: sibling}\" *ngFor=\"let sibling of siblings; trackBy:trackBy\">\n           <div [ngClass]=\"{filled: filled}\">&nbsp;</div>\n        </span>\n      </div>\n    </rxa-visualizer>\n  `,\n  host: {\n    class: 'd-flex w-100'\n  },\n  styleUrls: ['./sibling.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SiblingStaticComponent {\n  siblings = [];\n  filled = false;\n  @Input()\n  set count(num: number) {\n    this.siblings = toBooleanArray(num);\n    this.filled = !this.filled;\n  };\n\n  @Input()\n  value: any;\n\n  trackBy = i => i\n\n}\n","import { NgModule } from '@angular/core';\nimport { WorkComponent } from './work.component';\nimport { CommonModule } from '@angular/common';\nimport { MatRippleModule } from '@angular/material/core';\nimport { LetModule, PushModule } from '@rx-angular/template';\nimport { UtilsModule } from '../../utils/utils.module';\n\nconst DEPRECATIONS = [WorkComponent];\n\n@NgModule({\n  declarations: [...DEPRECATIONS],\n  imports: [\n    CommonModule,\n    MatRippleModule,\n    PushModule,\n    UtilsModule,\n    LetModule\n  ],\n  exports: [...DEPRECATIONS]\n})\nexport class WorkModule {\n\n}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { toBooleanArray } from './utils';\n\nconst chunk = (arr, n) => arr.length ? [arr.slice(0, n), ...chunk(arr.slice(n), n)] : [];\n\n@Component({\n  selector: 'rxa-sibling-async',\n  template: `\n    <rxa-visualizer>\n      <p visualizerHeader>{{siblings.length}}  Async</p>\n      <div class=\"w-100 siblings\">\n        <span class=\"sibling\" [ngClass]=\"{filled: sibling}\" *ngFor=\"let sibling of siblings$ | async; trackBy:trackBy;\">\n          <div [ngClass]=\"{filled: filled}\">&nbsp;</div>\n        </span>\n      </div>\n    </rxa-visualizer>\n  `,\n  host: {\n    class: 'd-flex w-100'\n  },\n  styleUrls: ['./sibling.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SiblingAsyncComponent {\n\n  siblings = [];\n  siblings$ = new ReplaySubject<any[]>(1);\n  filled = false;\n\n  @Input()\n  set count(num: number) {\n    this.siblings = toBooleanArray(num);\n    this.siblings$.next(this.siblings);\n    this.filled = !this.filled;\n  };\n\n  @Input()\n  value: any;\n\n  trackBy = i => i;\n\n}\n\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  Input,\n} from '@angular/core';\nimport { RxStrategyProvider } from '@rx-angular/cdk';\nimport { Observable, Subject } from 'rxjs';\nimport { toBooleanArray } from './utils';\nimport { RxState } from '@rx-angular/state';\nimport { delay, map } from 'rxjs/operators';\n\nconst chunk = (arr, n) =>\n  arr.length ? [arr.slice(0, n), ...chunk(arr.slice(n), n)] : [];\n\n@Component({\n  selector: 'rxa-sibling-strategy',\n  template: `\n    <h3>{{ siblings.length }} Siblings</h3>\n    <div class=\"d-flex flex-wrap\">\n      <div\n        class=\"sibling\"\n        *rxFor=\"\n          let item of siblings$;\n          strategy: strategy$;\n          trackBy: trackBy;\n          renderCallback: rendered$\n        \"\n      >\n        <div [ngStyle]=\"{ background: item.color }\"></div>\n      </div>\n    </div>\n  `,\n  host: {\n    class: 'd-flex flex-column w-100',\n  },\n  styleUrls: ['./sibling.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SiblingStrategyComponent extends RxState<{\n  siblings: { filled: boolean; id: number; color: string }[];\n  strategy: string;\n  filled: boolean;\n}> {\n  filled$ = this.select('filled')\n    .pipe\n    //map(() => toBoolean(toRandom()))\n    ();\n  state$ = this.select();\n  siblings$ = this.select('siblings');\n  siblings = [];\n\n  strategy$ = this.select('strategy');\n\n  readonly rendered$ = new Subject<any>();\n\n  @Input()\n  set count(num$: Observable<number | string>) {\n    this.connect(\n      'siblings',\n      num$.pipe(\n        map((num) => {\n          this.siblings = toBooleanArray(\n            parseInt(num as any, 10)\n          ).map((filled, id) => ({\n            color: this.color(Math.random()),\n            filled,\n            id,\n          }));\n          return this.siblings;\n        })\n      )\n    );\n  }\n\n  @Input()\n  set filled(filled$: Observable<boolean>) {\n    this.connect('filled', filled$);\n  }\n\n  @Input()\n  value: any;\n\n  @Input()\n  set strategy(strategy: string) {\n    this.set({ strategy });\n  }\n\n  trackBy = (idx: number, i: { id: number }) => i.id;\n\n  color(a: number) {\n    return '#' + Math.floor(a * 16777215).toString(16);\n  }\n\n  constructor(\n    private strategyProvider: RxStrategyProvider\n  ) {\n    super();\n    this.set({\n      strategy: strategyProvider.primaryStrategy,\n      filled: true,\n    });\n  }\n}\n","import { AfterViewInit, Component, ElementRef, Output, ViewChild } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { RxEffects } from '../../rx-effects.service';\nimport { Hooks } from '../../debug-helper/hooks';\nimport { RxState } from '@rx-angular/state';\nimport { fileReaderFromBlob, imageFromFileReader } from '../pixel-image';\n\ninterface ComponentState {\n  loading: boolean;\n  image: HTMLImageElement;\n  pixelArray: number[][];\n  width: number;\n  height: number;\n}\n\n\n@Component({\n  selector: 'rxa-image-array',\n  template: `\n    <div class=\"row img-row w-100\">\n      <div class=\"col-12 d-flex flex-wrap align-items-center\">\n        <div class=\"w-100 d-flex flex-row align-items-center flex-wrap mb-3\">\n          <mat-expansion-panel>\n            <mat-expansion-panel-header>\n              Select Image\n            </mat-expansion-panel-header>\n            <div class=\"w-100 d-flex align-items-center\" *ngFor=\"let imgSet of all; let setIdx = index\">\n              <img [tabindex]=\"0\" (keydown.enter)=\"imgSelectionChange$.next($event.target)\" [alt]=\"name\" class=\"mr-2\"\n                   (click)=\"imgSelectionChange$.next($event.target)\" [src]=\"'assets/'+name\"\n                   *ngFor=\"let name of imgSet[1]; let idx = index\">\n            </div>\n            <button type=\"button\" class=\"mr-2\" mat-raised-button (click)=\"fileInput.click()\">Choose File</button>\n            <input hidden #fileInput (change)=\"filesChange$.next(fileInput.files[0])\" type=\"file\">\n\n            <button mat-raised-button class=\"btn-link\" href=\"http://pixelartmaker.com\" target=\"_blank\">Create</button>\n\n          </mat-expansion-panel>\n\n\n        </div>\n\n      </div>\n    </div>\n  `,\n  providers: [RxEffects, RxState]\n})\nexport class ImageArrayComponent extends Hooks implements AfterViewInit {\n  big = [\n    'doom-hunter-2.png',\n    'reinhardt-reinhardt-reinhardt.png',\n    'rainbow-skull.png'\n  ].map(n => 'big/' + n);\n  monster = [\n    'monster-1.png',\n    'monster-2.png',\n    'monster-3.png',\n    'monster-4.png',\n    'darth-maul-1.png'\n  ].map(n => 'monster/' + n);\n  random = [\n    'warrior.png',\n    'sonic2.png',\n    'dragon.png',\n    'pokemon.png',\n    'duck.png',\n    'knight.png',\n    'sure.png',\n    'maroon.png'\n  ];\n  koopa = [\n    'bowser-jr.png',\n    'bowser-jr-clown-car.png',\n    'dry-bowser-jr.png',\n    'dry-lemmy.png',\n    'dry-morton.png',\n    'dry-roy.png',\n    'iggy-koopa.png',\n    'larry-koopa.png',\n    'lemmy-koopa.png',\n    'ludwig-von-koopa.png',\n    'motron-koopa-jr.png',\n    'parallel-larry.png',\n    'parallel-wendy.png',\n    'wendy-koopa.png'\n  ].map(n => 'koopa/' + n);\n  pokemon = [\n    'pokemon-1.png',\n    'pokemon-2.png',\n    'pokemon-3.png',\n    'pokemon-4.png',\n    'pokemon-5.png',\n    'pokemon-6.png',\n    'pokemon-7.png',\n    'pokemon-8.png',\n    'pokemon-9.png'\n  ].map(n => 'pokemon/' + n);\n  zombi = [\n    'zombi-1.png',\n    'zombi-2.png',\n    'zombi-3.png',\n    'zombi-4.png',\n    'zombi-5.png',\n    'zombi-6.png'\n  ].map(n => 'zombi/' + n);\n  superMario = [\n    'super-mario-1.png',\n    'super-mario-2.png',\n    'super-mario-3.png',\n    'super-mario-4.png',\n    'super-mario-5.png',\n    'super-mario-6.png',\n    'super-mario-7.png',\n    'super-mario-8.png',\n    'super-mario-9.png'\n  ].map(n => 'super-mario/' + n);\n\n  all = [\n    ['superMario', this.superMario],\n    ['monster', this.monster],\n    ['koopa', this.koopa],\n    ['pokemon', this.pokemon],\n      ['big', this.big]\n  ];\n\n  filesChange$ = new Subject<any>();\n  imgSelectionChange$ = new Subject<any>();\n\n  @ViewChild('display')\n  display;\n\n  @Output()\n  img: Observable<HTMLImageElement> = this.state.select('image');\n\n\n  constructor(\n    private elemRef: ElementRef,\n    private rxEf: RxEffects,\n    private state: RxState<ComponentState>\n  ) {\n    super();\n    this.state.connect('image', this.filesChange$.pipe(fileReaderFromBlob(), imageFromFileReader()));\n    this.state.connect('image', this.imgSelectionChange$);\n  }\n\n}\n","import { toBoolean } from '../../debug-helper/value-provider';\nimport { toInt } from '../../utils/to-int';\n\nexport function toBooleanArray(num: number) {\n  return new Array(num).fill(0).map(() => toBoolean(Math.random()))\n}\n\nexport function toFloatArray(num: number) {\n  return new Array(num).fill(0).map(() => Math.random())\n}\n\n\nexport function toIntArray(num: number) {\n  // tslint:disable-next-line:no-bitwise\n  return new Array(num).fill(0).map(() => ~~(Math.random()*10))\n}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { toBooleanArray } from './utils';\n\nconst chunk = (arr, n) => arr.length ? [arr.slice(0, n), ...chunk(arr.slice(n), n)] : [];\n\n@Component({\n  selector: 'rxa-sibling-push',\n  template: `\n    <rxa-visualizer>\n      <p visualizerHeader>{{siblings.length}} Siblings Push</p>\n      <div class=\"w-100 siblings\">\n        <span class=\"sibling\" *ngFor=\"let sibling of siblings$ | push; trackBy:trackBy\">\n            <div [ngClass]=\"{filled: filled}\">&nbsp;</div>\n        </span>\n      </div>\n    </rxa-visualizer>\n  `,\n  host: {\n    class: 'd-flex w-100'\n  },\n  styleUrls: ['./sibling.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SiblingPushComponent {\n\n  siblings = [];\n  filled = false;\n  siblings$ = new ReplaySubject<any[]>(1);\n\n  @Input()\n  set count(num: number) {\n    this.siblings = toBooleanArray(num);\n    this.siblings$.next(this.siblings);\n    this.filled = !this.filled;\n  };\n\n  @Input()\n  value: any;\n\n  trackBy = i => i;\n\n}\n\n"],"sourceRoot":"webpack:///"}